<!-- Three.js and External Library Setup -->

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js" integrity="sha512-b6lGn9+1aD2DgwZXuSY4BhhdrDURVzu7f/PASu4H1i5+CRpEalOOz/HNhgmxZTK9lObM1Q7ZG9jONPYz8klIMg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    
<!-- Flat UI -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/flat-ui/2.3.0/js/flat-ui.min.js" integrity="sha512-GG/1z6B4MVJdQOw35lE4otrbjd2WYV+zhXgjUR+DTeaAc7s/ijgWsexEScSOIo8J4RlhC28CVerDjYQSH89ekQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- Three.js Core -->
<script type="text/javascript" src="js/three.min.js" inline></script>

<!-- Three.js Controls -->
<script type="text/javascript" src="js/TrackballControls.js"></script>

<!-- Utility Libraries -->
<script type="text/javascript" src="js/underscore-min.js"></script>
<script type="text/javascript" src="js/SVGLoader.js"></script>
<script type="text/javascript" src="js/earcut.js"></script>
<script type="text/javascript" src="js/fold.js"></script>

<!-- WebVR Support -->
<script type="text/javascript" src="js/WebVR.js"></script>

<!-- GPU Computing and Boilerplate -->
<script type="text/javascript" src="js/dynamic/GLBoilerplate.js"></script>
<script type="text/javascript" src="js/dynamic/GPUMath.js"></script>

<!-- Core Origami Simulation Scripts -->
<script type="text/javascript" src="js/controls.js"></script>
<script type="text/javascript" src="js/threeView.js"></script>
<script type="text/javascript" src="js/globals.js"></script>
<script type="text/javascript" src="js/node.js"></script>
<script type="text/javascript" src="js/beam.js"></script>
<script type="text/javascript" src="js/crease.js"></script>
<script type="text/javascript" src="js/model.js"></script>
<script type="text/javascript" src="js/3dUI.js"></script>

<!-- Solvers -->
<script type="text/javascript" src="js/staticSolver.js"></script>
<script type="text/javascript" src="js/dynamic/dynamicSolver.js"></script>
<script type="text/javascript" src="js/rigidSolver.js"></script>

<!-- Pattern and File Operations -->
<script type="text/javascript" src="js/pattern.js"></script>
<script type="text/javascript" src="js/saveSTL.js"></script>
<script type="text/javascript" src="js/saveFOLD.js"></script>

<!-- Visualization and Import/Export -->
<script type="text/javascript" src="js/cellColorizer.js"></script>
<script type="text/javascript" src="js/importer.js"></script>
<script type="text/javascript" src="js/VRInterface.js"></script>
<script type="text/javascript" src="js/videoAnimator.js"></script>
<script type="text/javascript" src="js/curvedFolding.js"></script>

<!-- Main Application Entry Point -->
<script type="text/javascript" src="js/main.js"></script>

<!-- Bundle -->
<script defer src="bundle.js"></script>

<!-- NFT Data Placeholder and Global Initialization -->
<script>
    window.nftRenderComplete = false;
    // NFT Data injected from EJS template
    const nftData = <%- nftData %>;

    // Global render completion flag
    window.renderingComplete = false;
    
    // NFT Display Mode - no editing
    var editMode = false; // Always display mode for NFT
    window.editMode = false;
    
    console.log('ðŸš€ Three.js and libraries initialized');
    console.log('ðŸ“Š NFT Data loaded:', nftData ? 'Available' : 'None');
    console.log('ðŸŽ¨ NFT Display Mode Active');
</script>